---
title: 一般的な問題
description: よくある問題の解決策
---

## 接続の問題

### SSH が接続できない

**症状:** タイムアウト、接続拒否、認証失敗

**解決策:**

1. **サーバーの種類を確認する:** Unix 系のシステムのみがサポートされています (Linux, macOS, Android/Termux)。
2. **手動でテストする:** `ssh user@server -p port`
3. **ファイアウォールを確認する:** ポート 22 が開放されている必要があります。
4. **資格情報を確認する:** ユーザー名とパスワード/キーが正しいことを確認してください。

### 頻繁に切断される

**症状:** 放置しているとターミナルが切断される

**解決策:**

1. **サーバーの Keep-alive 設定:**
   ```bash
   # /etc/ssh/sshd_config
   ClientAliveInterval 60
   ClientAliveCountMax 3
   ```

2. **バッテリーの最適化を無効にする:**
   - MIUI: バッテリー → 「制限なし」
   - Android: 設定 → アプリ → 最適化を無効化
   - iOS: バックグラウンド更新を有効にする

## 入力の問題

### 特定の文字が入力できない

**解決策:** 設定 → キーボードの種類 → `visiblePassword` に切り替える

注意: この変更後、CJK（中日韓）入力が動作しなくなる可能性があります。

## アプリの問題

### 起動時にアプリがクラッシュする

**症状:** アプリが開かない、画面が真っ暗になる

**原因:** 設定の破損（特に JSON エディタによる編集後）

**解決策:**

1. **アプリのデータを消去する:**
   - Android: 設定 → アプリ → ServerBox → データを消去
   - iOS: アプリを削除して再インストール

2. **バックアップから復元する:** 設定を変更する前に作成したバックアップをインポートしてください。

### バックアップ/復元の問題

**バックアップが動作しない:**
- ストレージの空き容量を確認してください。
- アプリにストレージ権限があるか確認してください。
- 別の保存場所を試してください。

**復元に失敗する:**
- バックアップファイルの整合性を確認してください。
- アプリのバージョンの互換性を確認してください。

## ウィジェットの問題

### ウィジェットが更新されない

**iOS:**
- 自動更新まで最大 30 分待機してください。
- ウィジェットを一度削除してから再度追加してください。
- URL が `/status` で終わっているか確認してください。

**Android:**
- ウィジェットをタップして強制的に更新してください。
- ウィジェット ID がアプリ設定の構成と一致しているか確認してください。

**watchOS:**
- ウォッチアプリを再起動してください。
- 設定変更後、数分待機してください。
- URL の形式を確認してください。

### ウィジェットにエラーが表示される

- サーバーで ServerBox Monitor が実行されているか確認してください。
- ブラウザで URL をテストしてください。
- 認証資格情報を確認してください。

## パフォーマンスの問題

### アプリが重い

**解決策:**
- 設定で更新頻度を下げてください。
- ネットワーク速度を確認してください。
- 使用していないサーバーを無効にしてください。

### バッテリー消費が激しい

**解決策:**
- 更新間隔を長くしてください。
- バックグラウンド更新を無効にしてください。
- 使用していない SSH セッションを閉じてください。

## サポートを受ける

問題が解決しない場合:

1. **GitHub Issues を検索する:** https://github.com/lollipopkit/flutter_server_box/issues
2. **新しい Issue を作成する:** アプリのバージョン、プラットフォーム、再現手順を含めてください。
3. **Wiki を確認する:** 本ドキュメントおよび GitHub Wiki を参照してください。
