---
title: ホーム画面ウィジェット
description: サーバーの状態を表示するウィジェットをホーム画面に追加する
---

サーバーに [ServerBox Monitor](https://github.com/lollipopkit/server_box_monitor) がインストールされている必要があります。

## 前提条件

まずサーバーに ServerBox Monitor をインストールしてください。設定手順については [ServerBox Monitor Wiki](https://github.com/lollipopkit/server_box_monitor/wiki/Home) を参照してください。

インストール後、サーバーで以下が利用可能である必要があります。
- HTTP/HTTPS エンドポイント
- `/status` API エンドポイント
- オプションの認証

## URL 形式

```
https://your-server.com/status
```

末尾は必ず `/status` である必要があります。

## iOS ウィジェット

### 設定

1. ホーム画面を長押し → **+** をタップ
2. 「ServerBox」を検索
3. ウィジェットのサイズを選択
4. ウィジェットを長押し → **ウィジェットを編集**
5. `/status` で終わる URL を入力

### 注意事項

- HTTPS を使用する必要があります（ローカル IP を除く）。
- 最大更新頻度: 30 分（iOS の制限）。
- 複数のサーバーに対して複数のウィジェットを追加できます。

## Android ウィジェット

### 設定

1. ホーム画面を長押し → **ウィジェット**
2. 「ServerBox」を見つける → ホーム画面に追加
3. 表示されたウィジェット ID 番号をメモする
4. ServerBox アプリを開く → 設定
5. **「ホームウィジェットのリンクを構成」**をタップ
6. エントリを追加: `ウィジェット ID` = `ステータス URL`

例:
- キー: `17`
- 値: `https://my-server.com/status`

7. ホーム画面のウィジェットをタップして更新

## watchOS ウィジェット

### 設定

1. iPhone アプリを開く → 設定
2. **iOS 設定** → **Watch アプリ**
3. **「URL を追加」**をタップ
4. `/status` で終わる URL を入力
5. ウォッチアプリが同期されるのを待つ

### 注意事項

- 更新されない場合は、ウォッチアプリの再起動を試してください。
- iPhone と Apple Watch が接続されていることを確認してください。

## トラブルシューティング

### ウィジェットが更新されない

**iOS:** 最大 30 分待機し、その後ウィジェットを削除して再追加してください。
**Android:** ウィジェットをタップして強制的に更新し、設定で ID を確認してください。
**watchOS:** ウォッチアプリを再起動し、数分待機してください。

### ウィジェットにエラーが表示される

- ServerBox Monitor が実行されているか確認してください。
- ブラウザで URL をテストしてください。
- URL が `/status` で終わっているか確認してください。

## セキュリティ

- 可能な限り**常に HTTPS を使用**してください。
- **ローカル IP** は信頼できるネットワーク内でのみ使用してください。
